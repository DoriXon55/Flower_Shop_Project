{% extends 'shop_app/base.html' %}

{% block title %}Register{% endblock %}

{% block content %}
<h1>Register</h1>
<form method="post">
    {% csrf_token %}
    <label>Account Type:</label>
    <select name="user_type">
        <option value="individual">Individual</option>
        <option value="firm">Firm</option>
    </select>

    <div id="individual-fields">
        <label>First Name:</label>
        <input type="text" name="first_name">
        <label>Last Name:</label>
        <input type="text" name="last_name">
    </div>

    <div id="firm-fields" style="display: none;">
        <label>Firm Name:</label>
        <input type="text" name="firm_name">
        <label>NIP:</label>
        <input type="text" name="NIP">
    </div>

    <label>Contact:</label>
    <input type="text" name="contact">
    <label>Address:</label>
    <input type="text" name="address">
    <label>Username:</label>
    <input type="text" name="username">
    <label>Password:</label>
    <input type="password" name="password">
    <button type="submit">Register</button>
</form>

<script>
    const userTypeSelect = document.querySelector('select[name="user_type"]');
    const individualFields = document.getElementById('individual-fields');
    const firmFields = document.getElementById('firm-fields');

    userTypeSelect.addEventListener('change', () => {
        if (userTypeSelect.value === 'individual') {
            individualFields.style.display = 'block';
            firmFields.style.display = 'none';
        } else {
            individualFields.style.display = 'none';
            firmFields.style.display = 'block';
        }
    });
</script>
{% endblock %}
